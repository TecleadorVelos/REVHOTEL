<!DOCTYPE html>
<html>
    <head>
    	<title>REVHOTEL</title>
    	<meta name="viewport" content="width=device-width, initial-scale=1">
    	<link rel="icon" type="image/x-icon" href="/images/Logo.png">
    	<link rel="stylesheet" href="/css/general.css">
    	<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        
    </head>
    <body>
    	<h1 class="titulo">Gestión de Promociones</h1>
	<br>
	<div class="contenedorPrincipal">
		<div class="row">
			<div class="col d-flex justify-content-start">
			    <a href="/formularioPromocion" class="mb-3 btn btn-dark" role="button" id="botonCrearPromocion">Crear nueva promoción</a>
		    </div>
	    </div>
	    <table id="tablaPromociones" class="table table-hover">
	   		<thead>
		        <tr>
		            <th>Número de Promoción</th>
		            <th>Oferta (%)</th>
		            <th>Fecha Inicio Promoción</th>
		            <th>Fecha Final Promoción</th>
		            <th>Eliminar</th>
		        </tr>
	   		</thead>
	   		<tbody>
		        {{#promociones}}
		        <tr>
		          	<td class="numero-promocion"></td>
		            <td>{{oferta}}</td>
		            <td>{{fechainicio}}</td>
		            <td>{{fechafinal}}</td>
		            <td><a href="/borrarpromocion/{{id}}" id="botonBorrar" class="btn-sm btn btn-danger" role="button"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-square" viewBox="0 0 16 16">
				  	<path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
				  	<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>
					</svg></td>
		        </tr>
		        {{/promociones}}
	   		</tbody>
	    </table>
    </div>
    <div class="container">
    	<div class="d-flex justify-content-end">
    		<a id="volverAtras" href="/menuAdmin" "role="button" class="btn btn-dark" > Volver atrás </a>
    	</div>
    </div>
    <script>
		document.addEventListener('DOMContentLoaded', (event) => {
		    const rows = document.querySelectorAll('#tablaPromociones tbody tr');
		    rows.forEach((row, index) => {
		        row.querySelector('.numero-promocion').innerText = index + 1;
		    });
		});
	</script>
	</body>
</html>