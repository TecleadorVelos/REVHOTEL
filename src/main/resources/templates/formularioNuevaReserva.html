<!DOCTYPE html>
<html>
    <head>
    	<title>REVHOTEL</title>
    	<meta name="viewport" content="width=device-width, initial-scale=1">
    	<link rel="icon" type="image/x-icon" href="/images/Logo.png">
    	<link rel="stylesheet" href="/css/general.css">
    	<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <style>
        .carousel-item img {
            width: 100%;
            height: auto;
        }
    </style>
    </head>
    <body>
		<div class="d-flex justify-content-center">
		        	<div class="card border-dark mt-5" style="width: 79%;">
		        		<div class="card-header">
							<h1>Nueva reserva</h1>
		        		</div>
		        		<div class="card-body">
		        				<div class="row">
		        					<div class="col dflex md-6">	
								        <p>Introduce los datos de la nueva reserva: </p>
								        <form id="formulario_reserva" action="/nuevareserva/{{id}}" method="POST">
								        	
								        	<label for="serie">Seleccione hotel: </label>
											<select name="selectorHotel">
											{{#hoteles}}
											  <option value="{{nombre}}" selected>{{nombre}}</option>
											{{/hoteles}}
											</select>
											
								            <br>
								            <br>
								            <label for"capacidad">Tipo de habitaci√≥n: </label>
								            <select name="tipoHabitacion">
											  <option value="Normal" selected>Normal</option>
											  <option value="Doble">Doble</option>
											  <option value="Suite">Suite</option>
											</select>      
								            <br>
								            <br>
								            <span>Fecha de entrada (formato: dd/mm/yyyy):</span>
								            <input type="text" name="fechaEntrada" placeholder="Introduce una fecha de entrada" class="form-control-sm">
								            <br>
								            <br>
								            <span>Fecha de salida (formato: dd/mm/yyyy):</span>						    
								            <input type="text" name="fechaSalida" placeholder="Introduce una fecha de salida" class="form-control-sm">
								            <br>
								            <br>
								            <input id="boton_enviar_estacion" type="submit" value="Enviar" class="btn btn-dark">
								        </form>
		        					</div>
		        					<div class="col dflex md-6">
		        					<!-- METER AQUI UN SLIDER DE FOTOS QUE DEPENDA DEL HOTEL SELECCIONADO -->
				                        <section class="contenedor-imagen">
																	        								            
							                	<img id="data-images"src="" alt="Imagen">
							                									            								        
									</section>	        					
		        					</div>	
		        		</div>
		        	</div>
		        </div>
    </body>
    <script>
    	 // Function to load images into the carousel
        function loadCarouselImages(imageList) {
            const carouselInner = document.getElementById('carouselInner');
            carouselInner.innerHTML = ''; // Clear previous images

            imageList.split(',').forEach((src, index) => {
                if (src) {
                    const div = document.createElement('div');
                    div.className = `carousel-item ${index === 0 ? 'active' : ''}`;
                    const img = document.createElement('img');
                    img.src = src.trim();
                    img.className = 'd-block w-100';
                    div.appendChild(img);
                    carouselInner.appendChild(div);
                }
            });
        }
        
        // Event listener for hotel selection change
        document.getElementById('selectorHotel').addEventListener('change', function() {
            const selectedOption = this.options[this.selectedIndex];
            const imageList = selectedOption.getAttribute('data-imagenes');
            loadCarouselImages(imageList);
        });
        
        // Load initial images for the first hotel
        document.addEventListener('DOMContentLoaded', function() {
            const initialOption = document.getElementById('selectorHotel').options[0];
            const initialImageList = initialOption.getAttribute('data-imagenes');
            loadCarouselImages(initialImageList);
        });
    </script>
</html>